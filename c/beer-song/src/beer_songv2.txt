#include "beer_song.h"

void recite(unsigned int start_bottles, unsigned int take_down, char *buffer)
{
	int buffer_len = 0;
	int start_over = 99;

	while(start_bottles - take_down != 0)
	{

		switch(start_bottles)
		{
			case 2:
				buffer_len = sprintf(buffer,
				"%i bottles of beer on the wall, %i bottles of beer.\n"
				"Take one down and pass it around, %i bottle of beer on the wall.\n"
				, start_bottles, start_bottles, start_bottles - 1);
				break;
			case 1:
				buffer_len = sprintf(buffer,
				"%i bottles of beer on the wall, %i bottles of beer.\n"
				"Take it down and pass it around, no more bottles of beer on the wall.\n"
				, start_bottles, start_bottles);
				break;
			case 0:
				buffer_len = sprintf(buffer,
				"No more bottles of beer on the wall, no more bottles of beer.\n"
				"Go to the store and buy some more, %i bottles of beer on the wall.\n"
				, start_over);
				break;
			default:
				buffer_len = sprintf(buffer,
				"%i bottles of beer on the wall, %i bottles of beer.\n"
				"Take one down and pass it around, %i bottle of beer on the wall.\n"
				, start_bottles, start_bottles, start_bottles - 1);
				break;
		}

		if(start_bottles - 1 - take_down != 0)
		{
			buffer_len = sprintf(buffer, "%c", '\n');
		}

		--start_bottles;
		}
}

